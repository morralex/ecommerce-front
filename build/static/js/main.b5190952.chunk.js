(this["webpackJsonpecommerce-front"]=this["webpackJsonpecommerce-front"]||[]).push([[0],{19:function(e,t,a){e.exports=a(29)},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),l=a(7),s=a(1),i=a(9),m=a(3),u=a(11),d=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,p=function(e,t){return e.location.pathname===t?{color:"#ff9900"}:{color:"#ffffff"}},f=Object(s.g)((function(e){var t=e.history;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs bg-primary"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",style:p(t,"/"),to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",style:p(t,"/signin"),to:"/signin"},"Sing In")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",style:p(t,"/signup"),to:"/signup"},"Sign Up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link",style:{cursor:"pointer",color:"#ffffff"},onClick:function(){return function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat(d,"/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))}((function(){t.push("/")}))}},"Sign Out"))))})),E=function(e){var t=e.title,a=void 0===t?"Title":t,n=e.description,c=void 0===n?"Description":n,o=e.className,l=void 0===o?"className":o,s=e.children;return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h2",null,a),r.a.createElement("p",{className:"lead"},c)),r.a.createElement("div",{className:l},s))},g=function(){var e=Object(n.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(u.a)(e,2),a=t[0],c=t[1],o=a.name,s=a.email,p=a.password,f=a.success,g=a.error,b=function(e){return function(t){c(Object(m.a)(Object(m.a)({},a),{},Object(i.a)({error:!1},e,t.target.value)))}},N=function(e){var t;e.preventDefault(),c(Object(m.a)(Object(m.a)({},a),{},{error:!1})),(t={name:o,email:s,password:p},fetch("".concat(d,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?c(Object(m.a)(Object(m.a)({},a),{},{error:e.error,success:!1})):c(Object(m.a)(Object(m.a)({},a),{},{name:"",email:"",password:"",error:"",success:!0}))}))};return r.a.createElement(E,{title:"Sign Up Page",description:"Sign up for Node React E-commerce App",className:"container col-md-8 offset-md-2"},r.a.createElement("div",{className:"alert alert-info",style:{display:f?"":"none"}},"New Account Created. Please Sign In.",r.a.createElement(l.b,{to:"/signin"},"Sign In")),r.a.createElement("div",{className:"alert alert-danger",style:{display:g?"":"none"}},g),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{onChange:b("name"),type:"text",className:"from-control col-md-12",value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:b("email"),type:"email",className:"from-control col-md-12",value:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:b("password"),type:"password",className:"from-control col-md-12",value:p})),r.a.createElement("button",{onClick:N,className:"btn btn-primary"},"Submit")))},b=function(){var e=Object(n.useState)({email:"morr.alex@outlook.com",password:"abc123",error:"",loading:!1,redirectToReferrer:!1}),t=Object(u.a)(e,2),a=t[0],c=t[1],o=a.email,l=a.password,p=a.loading,f=a.error,g=a.redirectToReferrer,b=function(e){return function(t){c(Object(m.a)(Object(m.a)({},a),{},Object(i.a)({error:!1},e,t.target.value)))}},N=function(e){var t;e.preventDefault(),c(Object(m.a)(Object(m.a)({},a),{},{error:!1,loading:!0})),(t={email:o,password:l},fetch("".concat(d,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?c(Object(m.a)(Object(m.a)({},a),{},{error:e.error,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){c(Object(m.a)(Object(m.a)({},a),{},{redirectToReferrer:!0}))}))}))};return r.a.createElement(E,{title:"Sign Up Page",description:"Sign up for Node React E-commerce App",className:"container col-md-8 offset-md-2"},p&&r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("h2",null,"Loading...")),r.a.createElement("div",{className:"alert alert-danger",style:{display:f?"":"none"}},f),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:b("email"),type:"email",className:"from-control col-md-12",value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:b("password"),type:"password",className:"from-control col-md-12",value:l})),r.a.createElement("button",{onClick:N,className:"btn btn-primary"},"Submit")),function(){if(g)return r.a.createElement(s.a,{to:"/"})}())},N=function(){return r.a.createElement(E,{title:"Home Page",description:"Node React E-commerce App"},"...")},v=function(){return r.a.createElement(l.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:N}),r.a.createElement(s.b,{path:"/signin",exact:!0,component:b}),r.a.createElement(s.b,{path:"/signup",exact:!0,component:g})))};o.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.b5190952.chunk.js.map